/*! ffzl 2016-05-16 */
app.controller("MusicCtrl",["$sce","$scope",function(a,b){b.API=null,b.active=0,b.audios=[{title:"1. Lentement",artist:"Miaow",poster:"img/b0.jpg",sources:[{src:a.trustAsResourceUrl("http://flatfull.com/themes/assets/musics/Miaow-03-Lentement.mp3"),type:"audio/mpeg"},{src:a.trustAsResourceUrl("http://flatfull.com/themes/assets/musics/Miaow-03-Lentement.ogg"),type:"audio/ogg"}]},{title:"2. Bubble",artist:"Miaow",poster:"img/b1.jpg",sources:[{src:a.trustAsResourceUrl("http://flatfull.com/themes/assets/musics/Miaow-07-Bubble.mp3"),type:"audio/mpeg"},{src:a.trustAsResourceUrl("http://flatfull.com/themes/assets/musics/Miaow-07-Bubble.ogg"),type:"audio/ogg"}]},{title:"3. Partir",artist:"Miaow",poster:"img/b2.jpg",sources:[{src:a.trustAsResourceUrl("http://flatfull.com/themes/assets/musics/Miaow-09-Partir.mp3"),type:"audio/mpeg"},{src:a.trustAsResourceUrl("http://flatfull.com/themes/assets/musics/Miaow-09-Partir.ogg"),type:"audio/ogg"}]}],b.config={sources:b.audios[0].sources,title:b.audios[0].title,repeat:!1,shuffle:!1,autoPlay:!0,theme:{url:"js/app/music/videogular.css"}},b.onPlayerReady=function(a){b.API=a,("play"==b.API.currentState||b.isCompleted)&&b.API.play(),b.isCompleted=!1},b.onComplete=function(){b.isCompleted=!0,b.config.shuffle?b.active=b.getRandom(b.active):b.active++,b.active>=b.audios.length?(b.active=0,b.config.repeat&&b.setActive(b.active)):b.setActive(b.active)},b.getRandom=function(a){var c=Math.floor(Math.random()*b.audios.length);return c-a||(c=b.getRandom(a)),c},b.play=function(a){b.isCompleted=!0,"next"==a?b.active++:b.active--,b.active>=b.audios.length&&(b.active=0),-1==b.active&&(b.active=b.audios.length-1),b.setActive(b.active)},b.setActive=function(a){b.API.stop(),b.config.sources=b.audios[a].sources,b.config.title=b.audios[a].title},b.toggleRepeat=function(){b.config.repeat=!b.config.repeat,b.isCompleted&&b.API.play()},b.toggleShuffle=function(){b.config.shuffle=!b.config.shuffle,b.isCompleted&&b.API.play()},b.video={sources:[{src:a.trustAsResourceUrl("http://flatfull.com/themes/assets/video/big_buck_bunny_trailer.m4v"),type:"video/mp4"},{src:a.trustAsResourceUrl("http://flatfull.com/themes/assets/video/big_buck_bunny_trailer.webm"),type:"video/webm"},{src:a.trustAsResourceUrl("http://flatfull.com/themes/assets/video/big_buck_bunny_trailer.ogv"),type:"video/ogg"}],theme:{url:"js/app/music/videogular.css"},plugins:{controls:{autoHide:!0,autoHideTime:5e3},poster:"img/c1.jpg"}}}]);